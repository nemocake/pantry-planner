<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pantry Planner</title>
  </head>
  <body>
    <!-- Navigation -->
    <header class="header">
      <nav class="nav">
        <a href="#" class="nav__logo">Pantry Planner</a>
        <button class="nav__toggle" id="menuToggle" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </nav>
    </header>

    <!-- Menu Overlay -->
    <div class="menu-overlay" id="menuOverlay"></div>
    <aside class="nav-menu" id="navMenu">
      <button class="nav-menu__close" id="menuClose" aria-label="Close menu">√ó</button>
      <ul class="nav-menu__list">
        <li><a href="#" data-nav-target="home">Home</a></li>
        <li><a href="#" data-nav-target="pantry">My Pantry</a></li>
        <li><a href="#" data-nav-target="recipes">Recipes</a></li>
        <li><a href="#" data-nav-target="mealplanner">Meal Planner</a></li>
        <li><a href="#" data-nav-target="about">About</a></li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main id="app">
      <!-- Hero Section -->
      <section class="section section--home" data-section="home">
        <div class="section__background">
          <div class="layer layer--back" data-speed="0.6" data-prllx-item data-delta-start="10%" data-delta-end="-10%">
            <div class="layer__gradient"></div>
          </div>
          <div class="layer layer--mid" data-speed="0.8">
            <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1920" alt="Kitchen" class="layer__img">
          </div>
          <div class="layer layer--front" data-speed="1.2" data-prllx-item data-delta-start="-15%" data-delta-end="15%">
            <img src="https://images.unsplash.com/photo-1490818387583-1baba5e638af?w=800" alt="Fresh ingredients" class="layer__img layer__img--float">
          </div>
        </div>
        <div class="section__content">
          <h1 class="section__title">Pantry Planner</h1>
          <p class="section__subtitle">Track your ingredients, discover new recipes</p>
          <div class="scroll-indicator" data-lottie-scroll="/assets/lottie/scroll.json"></div>
        </div>
      </section>

      <!-- Pantry Section -->
      <section class="section section--pantry" data-section="pantry">
        <div class="section__background">
          <div class="layer layer--back" data-speed="0.7" data-prllx-item data-delta-start="15%" data-delta-end="-15%">
            <div class="layer__color" style="background: linear-gradient(135deg, #2d5016 0%, #4a7c23 100%);"></div>
          </div>
          <div class="layer layer--mid" data-speed="0.85">
            <img src="https://images.unsplash.com/photo-1606787366850-de6330128bfc?w=1920" alt="Pantry shelves" class="layer__img">
          </div>
          <div class="layer layer--front" data-speed="1.15" data-prllx-item data-delta-start="-20%" data-delta-end="20%">
            <div class="floating-elements">
              <span class="floating-leaf" style="--delay: 0s;">ü•¨</span>
              <span class="floating-leaf" style="--delay: 0.3s;">ü•ï</span>
              <span class="floating-leaf" style="--delay: 0.6s;">üßÄ</span>
              <span class="floating-leaf" style="--delay: 0.9s;">ü•©</span>
            </div>
          </div>
        </div>
        <div class="section__content">
          <h2 class="section__title">My Pantry</h2>
          <p class="section__subtitle">Manage your kitchen inventory</p>

          <!-- Pantry Dropdown: Current Pantry (Center Top) -->
          <div class="pantry-dropdown" id="pantryDropdown">
            <button class="pantry-dropdown__toggle" id="togglePantryDropdown">
              <span class="pantry-dropdown__icon">üì¶</span>
              <span class="pantry-dropdown__label">Your Pantry</span>
              <span class="pantry-dropdown__count" id="sidepanelCount">0</span>
              <span class="pantry-dropdown__arrow">‚ñº</span>
            </button>
            <div class="pantry-dropdown__content" id="pantryDropdownContent">
              <div class="pantry-dropdown__list" id="pantryList">
                <!-- Populated dynamically -->
              </div>
              <div class="pantry-dropdown__empty" id="sidepanelEmpty">
                <p>No items yet</p>
                <p>Select a category and add ingredients!</p>
              </div>
            </div>
          </div>

          <!-- Pantry Controls -->
          <div class="pantry-controls">
            <button class="btn btn--primary" id="addIngredientBtn">
              <span class="btn__icon">+</span> Add Ingredient
            </button>
            <div class="pantry-controls__actions">
              <button class="btn btn--secondary" id="exportPantryBtn">Export</button>
              <button class="btn btn--secondary" id="importPantryBtn">Import</button>
              <input type="file" id="importFileInput" accept=".json" hidden>
            </div>
          </div>

          <!-- Pantry Stats -->
          <div class="pantry-stats" id="pantryStats">
            <div class="stat" data-speed="1.1">
              <span class="stat__number" id="statTotal">0</span>
              <span class="stat__label">Items</span>
            </div>
            <div class="stat" data-speed="1.05">
              <span class="stat__number" id="statCategories">0</span>
              <span class="stat__label">Categories</span>
            </div>
            <div class="stat" data-speed="1.12">
              <span class="stat__number" id="statRecipes">0</span>
              <span class="stat__label">Recipes Available</span>
            </div>
          </div>

          <!-- Category Filter -->
          <div class="category-filter" id="categoryFilter">
            <button class="category-btn category-btn--active" data-category="all">All</button>
          </div>

          <!-- Ingredient Browser (shows when category selected) -->
          <div class="ingredient-browser" id="ingredientBrowser" style="display: none;">
            <div class="ingredient-browser__header">
              <h3 class="ingredient-browser__title" id="browserTitle">Browse Ingredients</h3>
              <button class="ingredient-browser__close" id="closeBrowser">√ó</button>
            </div>
            <div class="ingredient-browser__grid" id="browserGrid">
              <!-- Populated dynamically -->
            </div>
          </div>
        </div>
      </section>

      <!-- Recipes Section -->
      <section class="section section--recipes" data-section="recipes">
        <div class="section__background">
          <div class="layer layer--back" data-speed="0.65" data-prllx-item data-delta-start="12%" data-delta-end="-12%">
            <div class="layer__color" style="background: linear-gradient(180deg, #8B4513 0%, #D2691E 100%);"></div>
          </div>
          <div class="layer layer--mid" data-speed="0.8">
            <img src="https://images.unsplash.com/photo-1466637574441-749b8f19452f?w=1920" alt="Cooking" class="layer__img">
          </div>
          <div class="layer layer--front" data-speed="1.25" data-prllx-item data-delta-start="-18%" data-delta-end="18%">
            <img src="https://images.unsplash.com/photo-1547592180-85f173990554?w=700" alt="Recipe book" class="layer__img layer__img--circle">
          </div>
        </div>
        <div class="section__content">
          <h2 class="section__title">Recipes</h2>
          <p class="section__subtitle">Discover what you can make</p>

          <!-- Recipe Filters -->
          <div class="recipe-filters">
            <div class="search-box">
              <input type="text" id="recipeSearch" placeholder="Search recipes..." class="search-input">
            </div>
            <div class="filter-row">
              <select id="matchFilter" class="filter-select">
                <option value="all">All Recipes</option>
                <option value="full">Can Make Now (100%)</option>
                <option value="partial">Almost There (70%+)</option>
                <option value="minimal">Missing a Few (50%+)</option>
              </select>
              <select id="difficultyFilter" class="filter-select">
                <option value="all">Any Difficulty</option>
                <option value="easy">Easy</option>
                <option value="medium">Medium</option>
                <option value="hard">Hard</option>
              </select>
              <select id="cuisineFilter" class="filter-select">
                <option value="all">All Cuisines</option>
              </select>
            </div>
          </div>

          <!-- Recipe Grid -->
          <div class="recipe-grid" id="recipeGrid">
            <div class="recipe-loading" id="recipeLoading">
              <p>Loading recipes...</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Meal Planner Section -->
      <section class="section section--mealplanner" data-section="mealplanner">
        <div class="section__background">
          <div class="layer layer--back" data-speed="0.65" data-prllx-item data-delta-start="12%" data-delta-end="-12%">
            <div class="layer__color" style="background: linear-gradient(180deg, #1a4a1a 0%, #2d6b2d 100%);"></div>
          </div>
          <div class="layer layer--mid" data-speed="0.8">
            <img src="https://images.unsplash.com/photo-1498837167922-ddd27525d352?w=1920" alt="Meal planning" class="layer__img">
          </div>
          <div class="layer layer--front" data-speed="1.2" data-prllx-item data-delta-start="-15%" data-delta-end="15%">
            <div class="floating-elements">
              <span class="floating-leaf" style="--delay: 0s;">üìÖ</span>
              <span class="floating-leaf" style="--delay: 0.4s;">üç±</span>
              <span class="floating-leaf" style="--delay: 0.8s;">üõí</span>
            </div>
          </div>
        </div>
        <div class="section__content section__content--wide">
          <h2 class="section__title">Meal Planner</h2>
          <p class="section__subtitle">Plan your week, track ingredients</p>

          <!-- Week Navigation -->
          <div class="week-nav" id="weekNav">
            <button class="week-nav__btn" id="prevWeekBtn" title="Previous week">
              <span>‚Üê</span> Previous
            </button>
            <div class="week-nav__title-container">
              <span class="week-nav__title" id="weekTitle">Jan 20 - 26, 2026</span>
              <button class="week-nav__today" id="todayBtn" title="Go to current week">Today</button>
            </div>
            <button class="week-nav__btn" id="nextWeekBtn" title="Next week">
              Next <span>‚Üí</span>
            </button>
          </div>

          <!-- Week Calendar Grid -->
          <div class="calendar-week" id="calendarWeek">
            <!-- Days rendered dynamically -->
          </div>

          <!-- Meal Plan Stats -->
          <div class="mealplan-stats" id="mealplanStats">
            <div class="stat">
              <span class="stat__number" id="statPlannedMeals">0</span>
              <span class="stat__label">Planned</span>
            </div>
            <div class="stat">
              <span class="stat__number" id="statCanMake">0</span>
              <span class="stat__label">Can Make</span>
            </div>
            <div class="stat">
              <span class="stat__number" id="statNeedShopping">0</span>
              <span class="stat__label">Need Shopping</span>
            </div>
          </div>

          <!-- Meal Plan Actions -->
          <div class="mealplan-actions">
            <button class="btn btn--primary" id="generateShoppingListBtn">
              <span class="btn__icon">üõí</span> Shopping List
            </button>
            <button class="btn btn--secondary" id="clearWeekBtn">
              <span class="btn__icon">üóëÔ∏è</span> Clear Week
            </button>
          </div>
        </div>
      </section>

      <!-- About Section -->
      <section class="section section--about" data-section="about">
        <div class="section__background">
          <div class="layer layer--back" data-speed="0.6" data-prllx-item data-delta-start="10%" data-delta-end="-10%">
            <div class="layer__color" style="background: linear-gradient(180deg, #1a3a5c 0%, #2c5f8f 100%);"></div>
          </div>
          <div class="layer layer--mid" data-speed="0.8">
            <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=1920" alt="Kitchen" class="layer__img">
          </div>
          <div class="layer layer--front" data-speed="1.18" data-prllx-item data-delta-start="-12%" data-delta-end="12%">
            <div class="floating-elements">
              <span class="floating-leaf" style="--delay: 0s;">üç≥</span>
              <span class="floating-leaf" style="--delay: 0.5s;">üìñ</span>
              <span class="floating-leaf" style="--delay: 1s;">ü•ó</span>
            </div>
          </div>
        </div>
        <div class="section__content">
          <h2 class="section__title">About Pantry Planner</h2>
          <p class="section__text">A simple tool to help you manage your kitchen inventory and discover recipes based on ingredients you already have.</p>
          <div class="features-row">
            <div class="feature" data-speed="1.1">
              <span class="feature__icon">üì¶</span>
              <h3>Track Ingredients</h3>
              <p>Keep an organized inventory of your pantry, fridge, and freezer</p>
            </div>
            <div class="feature" data-speed="1.05">
              <span class="feature__icon">üîç</span>
              <h3>Find Recipes</h3>
              <p>Discover meals you can make with what you have on hand</p>
            </div>
            <div class="feature" data-speed="1.12">
              <span class="feature__icon">üíæ</span>
              <h3>Export & Import</h3>
              <p>Save your pantry as JSON and restore it anytime</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <p>Pantry Planner</p>
        <p>Built with GSAP + ScrollTrigger</p>
      </footer>
    </main>

    <!-- Add Ingredient Modal -->
    <div class="modal" id="addIngredientModal">
      <div class="modal__backdrop"></div>
      <div class="modal__container">
        <button class="modal__close" aria-label="Close modal">&times;</button>
        <h2 class="modal__title">Add Ingredient</h2>
        <form class="modal__form" id="addIngredientForm">
          <div class="form-group">
            <label for="ingredientSearch">Search Ingredient</label>
            <div class="autocomplete-wrapper">
              <input type="text" id="ingredientSearchInput" class="form-input" placeholder="Start typing..." autocomplete="off">
              <div class="autocomplete-results" id="autocompleteResults"></div>
            </div>
            <input type="hidden" id="selectedIngredientId">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="ingredientQuantity">Quantity</label>
              <input type="number" id="ingredientQuantity" class="form-input" value="1" min="0" step="0.1">
            </div>
            <div class="form-group">
              <label for="ingredientUnit">Unit</label>
              <select id="ingredientUnit" class="form-input">
                <option value="unit">unit</option>
                <option value="g">grams</option>
                <option value="kg">kg</option>
                <option value="oz">oz</option>
                <option value="lb">lb</option>
                <option value="ml">ml</option>
                <option value="l">liters</option>
                <option value="cup">cups</option>
                <option value="tbsp">tbsp</option>
                <option value="tsp">tsp</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="ingredientStorage">Storage Location</label>
            <select id="ingredientStorage" class="form-input">
              <option value="pantry">Pantry</option>
              <option value="fridge">Fridge</option>
              <option value="freezer">Freezer</option>
            </select>
          </div>
          <div class="form-group">
            <label for="ingredientNotes">Notes (optional)</label>
            <input type="text" id="ingredientNotes" class="form-input" placeholder="e.g., expires soon">
          </div>
          <div class="form-actions">
            <button type="button" class="btn btn--secondary" id="cancelAddIngredient">Cancel</button>
            <button type="submit" class="btn btn--primary" id="submitAddIngredient" disabled>Add to Pantry</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Recipe Detail Modal -->
    <div class="modal" id="recipeModal">
      <div class="modal__backdrop"></div>
      <div class="modal__container modal__container--large">
        <button class="modal__close" aria-label="Close modal">&times;</button>
        <div class="recipe-detail" id="recipeDetail">
          <!-- Populated dynamically -->
        </div>
      </div>
    </div>

    <!-- Import Options Modal -->
    <div class="modal" id="importModal">
      <div class="modal__backdrop"></div>
      <div class="modal__container">
        <button class="modal__close" aria-label="Close modal">&times;</button>
        <h2 class="modal__title">Import Pantry</h2>
        <p class="modal__text">How would you like to import?</p>
        <div class="import-options">
          <button class="btn btn--primary" id="importMerge">Merge with existing</button>
          <button class="btn btn--secondary" id="importReplace">Replace all</button>
        </div>
      </div>
    </div>

    <!-- Add Meal Modal -->
    <div class="modal" id="addMealModal">
      <div class="modal__backdrop"></div>
      <div class="modal__container">
        <button class="modal__close" aria-label="Close modal">&times;</button>
        <h2 class="modal__title">Add Meal to Plan</h2>
        <form class="modal__form" id="addMealForm">
          <div class="form-group">
            <label for="mealDate">Date</label>
            <input type="date" id="mealDate" class="form-input" required>
          </div>
          <div class="form-group">
            <label for="mealRecipeSearch">Search Recipe</label>
            <div class="autocomplete-wrapper">
              <input type="text" id="mealRecipeSearch" class="form-input" placeholder="Start typing to search..." autocomplete="off">
              <div class="autocomplete-results recipe-results" id="mealRecipeResults"></div>
            </div>
          </div>
          <div class="form-group" id="selectedRecipeDisplay" style="display: none;">
            <!-- Selected recipe shown here -->
          </div>
          <div class="form-group" id="mealAvailabilityWarning" style="display: none;">
            <!-- Availability warnings shown here -->
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="mealType">Meal Type</label>
              <select id="mealType" class="form-input">
                <option value="breakfast">üç≥ Breakfast</option>
                <option value="lunch">ü•ó Lunch</option>
                <option value="dinner" selected>üçΩÔ∏è Dinner</option>
                <option value="snack">üç™ Snack</option>
              </select>
            </div>
            <div class="form-group">
              <label for="mealServings">Servings</label>
              <input type="number" id="mealServings" class="form-input" value="4" min="1" max="20">
            </div>
          </div>
          <div class="form-group">
            <label for="mealNotes">Notes (optional)</label>
            <input type="text" id="mealNotes" class="form-input" placeholder="e.g., Double the garlic">
          </div>
          <div class="form-actions">
            <button type="button" class="btn btn--secondary" id="cancelAddMeal">Cancel</button>
            <button type="submit" class="btn btn--primary" id="submitAddMeal" disabled>Add to Plan</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Shopping List Modal -->
    <div class="modal" id="shoppingListModal">
      <div class="modal__backdrop"></div>
      <div class="modal__container modal__container--large">
        <button class="modal__close" aria-label="Close modal">&times;</button>
        <h2 class="modal__title">Shopping List</h2>
        <p class="modal__subtitle" id="shoppingListSubtitle">Items needed for this week</p>
        <div class="shopping-list" id="shoppingListContent">
          <!-- Shopping list items rendered here -->
        </div>
        <div class="shopping-list__actions">
          <button class="btn btn--secondary" id="copyShoppingList">
            <span class="btn__icon">üìã</span> Copy to Clipboard
          </button>
          <button class="btn btn--primary" id="closeShoppingList">Done</button>
        </div>
      </div>
    </div>

    <!-- Meal Detail Modal -->
    <div class="modal" id="mealDetailModal">
      <div class="modal__backdrop"></div>
      <div class="modal__container">
        <button class="modal__close" aria-label="Close modal">&times;</button>
        <div class="meal-detail" id="mealDetailContent">
          <!-- Meal details rendered here -->
        </div>
      </div>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
